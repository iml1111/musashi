# ===========================================
# Musashi Docker Compose 환경 변수 설정
# ===========================================
# .env.example을 .env로 복사한 후 실제 값으로 수정하세요
# cp .env.example .env

# ===========================================
# 애플리케이션 설정
# ===========================================

# 애플리케이션 포트 (기본: 8080)
MUSASHI_PORT=8080

# 실행 환경 (production, development, testing)
ENVIRONMENT=production

# 디버그 모드 (production에서는 반드시 false)
DEBUG=false

# 로그 레벨 (debug, info, warning, error, critical)
LOG_LEVEL=info

# JWT 토큰용 비밀키 (필수 - 실제 환경에서는 안전한 값으로 변경)
SECRET_KEY=your-super-secure-secret-key-change-this-in-production

# ===========================================
# 데이터베이스 설정 (MongoDB)
# ===========================================

# MongoDB 연결 URL
MONGODB_URL=mongodb://mongo:27017

# 데이터베이스 이름
DATABASE_NAME=musashi

# MongoDB 포트 (외부 노출용, 개발시에만 사용)
# 프로덕션에서는 127.0.0.1:27017 형태로 제한 권장
MONGO_PORT=127.0.0.1:27017

# MongoDB 관리자 계정 (선택사항 - 보안 강화시 사용)
# MONGO_ROOT_USERNAME=admin
# MONGO_ROOT_PASSWORD=your-secure-mongo-password

# ===========================================
# CORS 설정
# ===========================================

# 허용할 프론트엔드 URL (쉼표로 구분)
BACKEND_CORS_ORIGINS=http://localhost:8080,https://yourdomain.com

# ===========================================
# Redis 설정 (선택사항)
# ===========================================

# Redis 비밀번호 (Redis 활성화시)
# REDIS_PASSWORD=your-redis-password

# ===========================================
# 개발 환경 전용 설정
# ===========================================

# 개발용 프론트엔드 Vite 서버 API URL
VITE_API_URL=http://localhost:8000

# 파일 변경 감지 활성화 (개발시)
CHOKIDAR_USEPOLLING=true

# Python 경로 설정 (개발시)
PYTHONPATH=/app
PYTHONUNBUFFERED=1

# ===========================================
# 보안 설정
# ===========================================

# 세션 쿠키 설정
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# CSP 정책 설정
# CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# ===========================================
# 모니터링 설정
# ===========================================

# 애플리케이션 메트릭 수집 활성화
ENABLE_METRICS=true

# 헬스체크 엔드포인트 활성화
ENABLE_HEALTHCHECK=true

# ===========================================
# 이메일 설정 (선택사항)
# ===========================================

# SMTP 서버 설정
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM_EMAIL=noreply@yourdomain.com
# SMTP_USE_TLS=true

# ===========================================
# 외부 서비스 설정
# ===========================================

# S3 호환 스토리지 (파일 업로드용)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET_NAME=musashi-uploads
# AWS_S3_REGION=us-east-1

# ===========================================
# 개발자 도구 설정
# ===========================================

# 개발용 MongoDB Express 관리자 계정
ME_CONFIG_BASICAUTH_USERNAME=admin
ME_CONFIG_BASICAUTH_PASSWORD=admin123

# ===========================================
# 프로덕션 최적화 설정
# ===========================================

# 워커 프로세스 수 (CPU 코어 수에 맞게 조정)
WORKERS_PER_CORE=1
MAX_WORKERS=4

# 커넥션 풀 설정
DB_MIN_CONNECTIONS=1
DB_MAX_CONNECTIONS=10

# 캐싱 설정
CACHE_TTL=3600

# ===========================================
# 백업 및 복원 설정
# ===========================================

# 자동 백업 활성화
ENABLE_AUTO_BACKUP=false

# 백업 저장 경로
BACKUP_PATH=/app/backups

# 백업 보존 기간 (일)
BACKUP_RETENTION_DAYS=30